# Super MCP Example Configuration
# Copy to ~/.config/super-mcp/config.toml and customize

[server]
host = "127.0.0.1"
port = 3000

[auth]
type = "none"  # Options: none, static, jwt, oauth
# token = "static-token"           # Required for static auth
# jwt_secret = "supersecret"       # Required for jwt auth
# issuer = "https://issuer.example" # Required for jwt auth and OAuth discovery
# client_id = "client-id"          # Required for oauth auth
# client_secret = "client-secret"  # Required for oauth auth
# auth_url = "https://.../authorize" # Optional if issuer is provided
# token_url = "https://.../token"     # Optional if issuer is provided
# introspection_url = "https://.../introspect" # Recommended for oauth validation
# userinfo_url = "https://.../userinfo"       # Fallback if introspection not available
# jwks_url = "https://.../jwks.json" # Optional JWKS for JWT validation
# expected_audiences = ["your-audience"] # Optional audience check for JWT/JWKS
# allowed_algs = ["RS256"]           # Optional allowed JWT algorithms for JWKS
# jwks_cache_ttl_seconds = 300       # Optional JWKS cache TTL (seconds)
# allow_unverified_jwt = false      # Set true only for dev/testing
# required_scopes = ["mcp:access"]  # Optional scope enforcement

[features]
auth = false
scope_validation = true
sandbox = true
hot_reload = true
audit_logging = true

[rate_limit]
requests_per_minute = 100
burst_size = 10

[audit]
path = "~/.local/share/super-mcp/audit.log"
format = "json"
max_size_mb = 100
max_files = 10

# Lazy loading configuration
# Modes: disabled, metatool, hybrid, full
[lazy_loading]
mode = "disabled"
schema_cache_ttl_seconds = 300
cache_enabled = true
# preload_servers = ["filesystem"]  # Servers to preload in hybrid mode
# preload_presets = ["development"] # Presets to preload
max_concurrent_fetches = 4

# Example MCP servers
[[servers]]
name = "filesystem"
command = "npx"
args = ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"]
tags = ["filesystem", "local"]
description = "Local filesystem access (read-only)"

[servers.sandbox]
network = false
filesystem = "readonly"
max_memory_mb = 256

[[servers]]
name = "fetch"
command = "uvx"
args = ["mcp-server-fetch"]
tags = ["network", "http"]
description = "HTTP fetch capability"

[servers.sandbox]
network = true
filesystem = "readonly"

# Presets
[[presets]]
name = "development"
tags = ["filesystem", "local"]
description = "Development tools"

[registry]
url = "https://registry.modelcontextprotocol.io"
cache_dir = "~/.cache/super-mcp/registry"
cache_ttl_hours = 24
